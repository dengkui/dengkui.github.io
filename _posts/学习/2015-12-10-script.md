---
layout: post
title:  R 脚本读取输出
category: 学习
tags:  软件学习        
keywords: 读取脚本
description: R语言读取脚本并输出结果
---

虽然R语言自身提供了编程环境，但我个人还是倾向于使用诸如notepad++之类的软件进行编程，之后在R中进行代码的调试运行。

对于已经编好的代码文件，如果可以自动运行，并将结果自动输出到某一个文件，岂不是很省心省力？

要实现这样的效果，就要借助source，sink，cat函数。

source函数负责读入脚本文件，这个文件可以是R格式，也可以是txt格式。souce函数的参数很多，常用的也就两三个，第一个参数是file，用来指定读入的脚本名，如果在工作空间中，直接输入脚本名称即可，如果不在，可以通过绝对路径来访问。local用来设置工作的环境，默认是全局环境，一般全局就可以了。echo控制脚本代码是否在解析后打印出来，在屏幕上进行显示，默认不显示。

sink函数负责指定输出文件，sink常用的参数有file,append,split。file用来指定输出的文件,如果只输入文件名，则文件建立在工作目录之下，否则，建立在绝对路径下，文件可以是txt格式。append用来指定是否添加到文件后，为逻辑值。split用来指定是否同时输出到屏幕和文件中，设置为TRUE时，同时输出。

cat函数用来连接对象，并将其输出到屏幕或指定文件中。cat的第一个参数是要输出的表达式，第二个参数是指定的文件，第三个参数为append，用来指定是否添加到文本后。

那么，一般的顺序为：指定输出文件，读取脚本文件并运行。

示例代码：

    sink("C:/Users/lenovo/Desktop/demo3.txt",append = TRUE, split = TRUE)
    source("C:/Users/lenovo/Desktop/demo1.txt", echo = TRUE)

通过这两个函数，我们就可以实现读入文件并自动保存结果了。

## 参考资料

【1】R语言实战

【2】R语言自带文档